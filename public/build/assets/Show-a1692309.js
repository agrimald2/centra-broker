import{r as f,o as i,c as l,a as r,u as x,w as v,F as d,Z as w,b as s,t as a,e as u,i as _,j as k,f as m,g as c,d as V}from"./app-bd881049.js";import{A}from"./AdminLayout-aae52a9c.js";import{B as P}from"./Breadcrumb-b2724a4e.js";import b from"./AddEndorse-b1788bdc.js";import h from"./ShowAsset-66f39d8b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./AddCustomer-41b0fb05.js";import"./AddPeopleToInsurance-79a87922.js";import"./AddNewAsset-440fc4fa.js";import"./AddFile-48f3d4c4.js";const C={class:"px-2"},N={class:"space-y-12"},E={class:"border-b border-gray-900/10 pb-12"},F={class:"text-base font-semibold leading-7 text-gray-900"},M={class:"mt-2 grid grid-cols-1 gap-x-2 gap-y-4 sm:grid-cols-6"},U={class:"sm:col-span-2"},S=s("label",{for:"username",class:"block text-sm font-medium leading-6 text-gray-900"},[c(" Número de póliza "),s("button",{type:"button",disabled:"",class:"ml-2 text-white bg-gray-800 focus:ring-4 focus:outline-none focus:ring-[#050708]/50 font-medium rounded-lg text-sm px-2 py-2 text-center inline-flex items-center dark:focus:ring-gray-600 mr-2 mb-2"},[s("i",{class:"fa-solid fa-tag font-xl"})])],-1),z={class:"mt-2"},B={class:"bg-white flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},H=s("span",{class:"flex select-none items-center pl-3 text-gray-500 sm:text-sm"},"N° | ",-1),T={class:"sm:col-span-2"},Z=s("label",{for:"first-name",class:"block text-sm font-medium leading-6 text-gray-900"},[c(" Contratante "),s("button",{type:"button",class:"ml-2 text-white bg-gray-800 hover:bg-[#050708]/80 focus:ring-4 focus:outline-none focus:ring-[#050708]/50 font-medium rounded-lg text-sm px-2 py-2 text-center inline-flex items-center dark:focus:ring-gray-600 mr-2 mb-2"},[s("i",{class:"fa-solid fa-user-plus font-xl"})])],-1),L={class:"mt-2"},$={class:"sm:col-span-2"},D=s("label",{for:"username",class:"block text-sm font-medium leading-6 text-gray-900"},[c(" Companía de Seguros "),s("button",{type:"button",disabled:"",class:"ml-2 text-white bg-gray-800 focus:ring-4 focus:outline-none focus:ring-[#050708]/50 font-medium rounded-lg text-sm px-2 py-2 text-center inline-flex items-center dark:focus:ring-gray-600 mr-2 mb-2"},[s("i",{class:"fa-solid fa-tag font-xl"})])],-1),I={class:"mt-2"},j={class:"sm:col-span-1"},q=s("label",{for:"first-name",class:"block text-sm font-medium leading-6 text-gray-900"}," Inicio de Vigencia ",-1),O={class:"mt-4"},R={class:"relative"},J=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[s("svg",{class:"w-4 h-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})])],-1),G={class:"sm:col-span-1"},K=s("label",{for:"first-name",class:"block text-sm font-medium leading-6 text-gray-900"}," Fin de Vigencia ",-1),Q={class:"mt-4"},W={class:"relative"},X=s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[s("svg",{class:"w-4 h-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})])],-1),Y={class:"sm:col-span-1"},ss=s("label",{for:"username",class:"block text-sm font-medium leading-6 text-gray-900"},[c(" T. comisión "),s("button",{type:"button",disabled:"",class:"ml-2 text-white bg-gray-800 focus:ring-4 focus:outline-none focus:ring-[#050708]/50 font-medium rounded-lg text-sm px-2 py-2 text-center inline-flex items-center dark:focus:ring-gray-600 mr-2 mb-2"},[s("i",{class:"fa-solid fa-tag font-xl"})])],-1),es={class:"mt-2"},ts={class:"sm:col-span-3"},ns={class:"mt-2"},os=s("option",{value:"1",selected:""},"% | PORCENTAJE",-1),as=s("option",{value:"2"},"N° | NUMÉRICA",-1),is=[os,as],ls={class:"sm:col-span-1"},cs=s("label",{for:"username",class:"block text-sm font-medium leading-6 text-gray-900"},[c(" Comisión "),s("button",{type:"button",disabled:"",class:"ml-2 text-white bg-gray-800 focus:ring-4 focus:outline-none focus:ring-[#050708]/50 font-medium rounded-lg text-sm px-2 py-2 text-center inline-flex items-center dark:focus:ring-gray-600 mr-2 mb-2"},[s("i",{class:"fa-solid fa-tag font-xl"})])],-1),rs={class:"mt-2"},ds={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},us=s("span",{class:"flex select-none items-center pl-3 text-gray-500 sm:text-sm"},"% |",-1),_s={class:"sm:col-span-1 col-span"},ms=s("label",{for:"username",class:"block text-sm font-medium leading-6 text-gray-900"}," N° Cuotas ",-1),ps={class:"mt-5"},gs={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},ys=s("span",{class:"flex select-none items-center pl-3 text-gray-700 sm:text-sm"},"N°",-1),bs={class:"sm:col-span-1"},hs=s("label",{for:"username",class:"block text-sm font-medium leading-6 text-gray-900"}," Tasa de riesgo ",-1),fs={class:"mt-5"},xs={class:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-md"},vs=s("span",{class:"flex select-none items-center pl-3 text-gray-700 sm:text-sm"},"%",-1),ws={class:"border-b border-gray-900/10 pb-12"},ks=s("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Activos",-1),Vs=s("p",{class:"mt-1 text-sm leading-6 text-gray-600"}," Lista de activos Asegurados ",-1),As={class:"sm:col-span-3"},Ps={class:"w-full text-sm text-left text-gray-500 table"},Cs=s("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[s("tr",null,[s("th",{scope:"col",class:"px-6 py-3"}," Tipo "),s("th",{scope:"col",class:"px-6 py-3"}," Valor Asegurado "),s("th",{scope:"col",class:"px-6 py-3"}," Fecha de Vigencia "),s("th",{scope:"col",class:"px-6 py-3"}," Atributos "),s("th",{scope:"col",class:"px-6 py-3"}," Acciones ")])],-1),Ns={class:"bg-white border-b hover:bg-gray-50"},Es={scope:"row",class:"px-6 py-4"},Fs=s("br",null,null,-1),Ms={key:0},Us=s("div",{class:"ml-1 h-2.5 w-2.5 rounded-full bg-red-500"},null,-1),Ss=[Us],zs={class:"px-6 py-4"},Bs={class:"px-6 py-4"},Hs={class:"px-6 py-4"},Ts={class:"w-full text-sm text-left text-gray-500 table"},Zs={class:"text-xs text-gray-700 uppercase bg-gray-100"},Ls={scope:"col",class:"px-6 py-3 text-center"},$s={class:"bg-white border-b hover:bg-white"},Ds={class:"px-6 py-4"},Is={class:"px-6 py-4"},js=["onClick"],qs={class:"border-b border-gray-900/10 pb-12"},Os=s("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Archivos de la póliza",-1),Rs=s("p",{class:"mt-1 text-sm leading-6 text-gray-600"}," Imágenes, PDF's, Excel y cualquier tipo de documento que esté relacionado a la poliza ",-1),Js={class:"sm:col-span-3"},Gs={class:"mt-2 grid grid-cols-8 gap-y-4"},Ks={class:"sm:col-span-4 md:col-span-2 col-span-4"},Qs={class:"w-48 text-gray-900 bg-white border border-gray-200 rounded-lg"},Ws=["onClick"],Xs=s("i",{class:"fa-solid fa-file mr-2"},null,-1),Ys=s("br",null,null,-1),se={class:"border-b border-gray-900/10 pb-2"},ee={class:"flex"},te=s("h2",{class:"text-base font-semibold leading-7 text-gray-900"},"Endosos",-1),ne=s("i",{class:"fa-solid fa-add text-md"},null,-1),oe=[ne],ae=s("p",{class:"mt-1 text-sm leading-6 text-gray-600"}," Endosos pertenecientes a esta póliza ",-1),ie={class:"overflow-x-auto"},le={class:"w-full text-sm text-left text-gray-500 table"},ce=s("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[s("tr",null,[s("th",{scope:"col",class:"px-6 py-3"}," Fecha "),s("th",{scope:"col",class:"px-6 py-3"}," Cliente "),s("th",{scope:"col",class:"px-6 py-3"}," N° Activos "),s("th",{scope:"col",class:"px-6 py-3"}," Comisión Total "),s("th",{scope:"col",class:"px-6 py-3"}," Vigencia "),s("th",{scope:"col",class:"px-6 py-3"}," Acciones ")])],-1),re={class:"bg-white border-b hover:bg-gray-50"},de={scope:"row",class:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap"},ue={class:""},_e={class:"text-base font-semibold"},me={class:"px-6 py-4"},pe=s("br",null,null,-1),ge={class:"px-6 py-4"},ye={class:"flex items-center"},be=s("div",{class:"h-2.5 w-2.5 rounded-full bg-green-500 mr-2"},null,-1),he={class:"px-6 py-4"},fe={class:"px-6 py-4"},xe={class:"px-6 py-4"},ve=["href"],we=s("i",{class:"fa-solid fa-eye text-3xl text-indigo-600 cursor-pointer ml-2"},null,-1),ke=[we],Ve={class:"sm:col-span-3"},Ae={class:"mt-2 grid grid-cols-8 gap-y-4"},Pe={class:"sm:col-span-4 md:col-span-2 col-span-4"},Ce={class:"w-48 text-gray-900 bg-white border border-gray-200 rounded-lg"},Ne=["onClick"],Ee=s("i",{class:"fa-solid fa-file mr-2"},null,-1),Fe=s("br",null,null,-1),Me={components:{ShowAsset:h,AddEndorse:b},props:["breadcrumbs","insurancePolicy","insurance_billing_contact","insuranced_people","insurance_policies_data","assets"],data(){return{insurance_policy:{number:this.insurancePolicy.number,insurance_policy_data:{customer_id:this.insurancePolicy.latest_insurance_policy_data.customer,insurance_policies_status_id:1,insurance_company_id:this.insurancePolicy.latest_insurance_policy_data.insurance_company,start_date:this.insurancePolicy.latest_insurance_policy_data.start_date,end_date:this.insurancePolicy.latest_insurance_policy_data.start_date,comission_type_id:this.insurancePolicy.latest_insurance_policy_data.comission_type_id,comission:this.insurancePolicy.latest_insurance_policy_data.comission,number_of_installments:this.insurancePolicy.latest_insurance_policy_data.number_of_installments,risk_rate:this.insurancePolicy.latest_insurance_policy_data.risk_rate,insurance_policy_people:this.insurancePolicy.latest_insurance_policy_data.people,insurance_policy_billing_contact:this.insurance_billing_contact,insurance_policy_insuranced_people:this.insuranced_people,assets:this.insurancePolicy.latest_insurance_policy_data.assets,files:[],insurance_policies_data_files:[]}}}},methods:{showModal(o){let t=document.getElementById(o);t.classList.remove("slide-out-bck-center"),t.classList.remove("no-display")},formatActualAssets(){const o=this.insurance_policy.insurance_policy_data.assets.map(t=>{let n={asset_type_id:t.asset_type_id,asset_type_name:t.asset_type.name,insured_amount:parseFloat(t.insured_amount),vigency_date:t.vigency_date,assets_attributes_data:{}};return t.assets_attributes_data.forEach(p=>{n.assets_attributes_data[p.id]=p.value}),n});this.insurance_policy.insurance_policy_data.assets=o}},mounted(){this.formatActualAssets()}},Ie=Object.assign(Me,{__name:"Show",setup(o){return(t,n)=>{const p=f("v-select");return i(),l(d,null,[r(x(w),{title:o.insurancePolicy.number+"- Póliza"},null,8,["title"]),r(A,null,{default:v(()=>[r(P,{breadcrumbs:o.breadcrumbs},null,8,["breadcrumbs"]),s("form",C,[s("div",N,[s("div",E,[s("h2",F,a("Póliza N°"+o.insurancePolicy.number),1),s("div",M,[s("div",U,[S,s("div",z,[s("div",B,[H,u(s("input",{type:"text",name:"number",id:"number",autocomplete:"number",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"000001",disabled:"","onUpdate:modelValue":n[0]||(n[0]=e=>o.insurancePolicy.number=e)},null,512),[[_,o.insurancePolicy.number]])])])]),s("div",T,[Z,s("div",L,[r(p,{modelValue:t.insurance_policy.insurance_policy_data.customer_id,"onUpdate:modelValue":n[1]||(n[1]=e=>t.insurance_policy.insurance_policy_data.customer_id=e),options:t.customers,disabled:"",reduce:e=>e.id,label:"name"},null,8,["modelValue","options","reduce"])])]),s("div",$,[D,s("div",I,[r(p,{modelValue:t.insurance_policy.insurance_policy_data.insurance_company_id,"onUpdate:modelValue":n[2]||(n[2]=e=>t.insurance_policy.insurance_policy_data.insurance_company_id=e),disabled:"",options:t.insurance_companies,reduce:e=>e.id,label:"name"},null,8,["modelValue","options","reduce"])])]),s("div",j,[q,s("div",O,[s("div",R,[J,u(s("input",{type:"date","onUpdate:modelValue":n[3]||(n[3]=e=>t.insurance_policy.insurance_policy_data.start_date=e),disabled:"",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date"},null,512),[[_,t.insurance_policy.insurance_policy_data.start_date]])])])]),s("div",G,[K,s("div",Q,[s("div",W,[X,u(s("input",{type:"date","onUpdate:modelValue":n[4]||(n[4]=e=>t.insurance_policy.insurance_policy_data.end_date=e),disabled:"",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date"},null,512),[[_,t.insurance_policy.insurance_policy_data.end_date]])])])]),s("div",Y,[ss,s("div",es,[s("div",ts,[s("div",ns,[u(s("select",{id:"country",name:"country",autocomplete:"country-name",disabled:"","onUpdate:modelValue":n[5]||(n[5]=e=>t.insurance_policy.insurance_policy_data.comission_type_id=e),class:"bg-transparent block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:max-w-xs sm:text-sm sm:leading-6"},is,512),[[k,t.insurance_policy.insurance_policy_data.comission_type_id]])])])])]),s("div",ls,[cs,s("div",rs,[s("div",ds,[us,u(s("input",{type:"number",name:"number",id:"number",autocomplete:"number",disabled:"","onUpdate:modelValue":n[6]||(n[6]=e=>t.insurance_policy.insurance_policy_data.comission=e),class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"12.0"},null,512),[[_,t.insurance_policy.insurance_policy_data.comission]])])])]),s("div",_s,[ms,s("div",ps,[s("div",gs,[ys,u(s("input",{type:"number",disabled:"","onUpdate:modelValue":n[7]||(n[7]=e=>t.insurance_policy.insurance_policy_data.number_of_installments=e),class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"5"},null,512),[[_,t.insurance_policy.insurance_policy_data.number_of_installments]])])])]),s("div",bs,[hs,s("div",fs,[s("div",xs,[vs,u(s("input",{type:"number","onUpdate:modelValue":n[8]||(n[8]=e=>t.insurance_policy.insurance_policy_data.risk_rate=e),disabled:"",class:"block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6",placeholder:"2.8"},null,512),[[_,t.insurance_policy.insurance_policy_data.risk_rate]])])])])])]),s("div",ws,[ks,Vs,s("div",As,[s("table",Ps,[Cs,s("tbody",null,[(i(!0),l(d,null,m(o.assets,(e,g)=>(i(),l("tr",Ns,[s("td",Es,[c(a(e.asset_type.name)+" ",1),Fs,e.incidents.length>0?(i(),l("span",Ms,Ss)):V("",!0)]),s("td",zs,a(e.insured_amount),1),s("td",Bs,a(e.vigency_date),1),s("td",Hs,[s("table",Ts,[s("thead",Zs,[s("tr",null,[(i(!0),l(d,null,m(e.asset_type.attributes,y=>(i(),l("th",Ls,a(y.name),1))),256))])]),s("tbody",null,[s("tr",$s,[(i(!0),l(d,null,m(e.assets_attributes_data,y=>(i(),l("td",Ds,a(y.value),1))),256))])])])]),s("td",Is,[s("i",{onClick:y=>t.showModal("Asset-"+g),class:"fa-solid fa-eye text-3xl text-blue-500 cursor-pointer ml-2"},null,8,js)]),r(h,{id:"Asset-"+g,asset_id:e.id,asset:e,assets_attributes_data:e.assets_attributes_data},null,8,["id","asset_id","asset","assets_attributes_data"])]))),256))])])])]),s("div",qs,[Os,Rs,s("div",Js,[s("div",Gs,[(i(!0),l(d,null,m(t.insurance_policy.insurance_policy_data.files,e=>(i(),l("div",Ks,[s("div",Qs,[s("button",{type:"button",onClick:g=>t.removeFile(e),class:"relative inline-flex items-center w-full px-4 py-2 text-sm font-medium border-b border-gray-200 rounded-t-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:focus:ring-gray-500 dark:focus:text-white"},[Xs,s("span",null,a(e.name.length>10?e.name.slice(0,10)+"...":e.name),1),Ys],8,Ws)])]))),256))])])]),s("div",se,[s("div",ee,[te,s("a",{onClick:n[9]||(n[9]=e=>t.showModal("AddEndorse"+t.insurance_policy.number)),class:"ml-2 text-white bg-indigo-800 hover:bg-[#050708]/80 focus:ring-4 focus:outline-none focus:ring-[#050708]/50 font-medium rounded-lg text-sm p-1 text-center inline-flex items-center dark:focus:ring-gray-600 mr-2 mb-2"},oe),r(b,{id:"AddEndorse"+t.insurance_policy.number,insurancePolicy:o.insurancePolicy.latest_insurance_policy_data,insurance_billing_contact:o.insurance_billing_contact,insuranced_people:o.insuranced_people},null,8,["id","insurancePolicy","insurance_billing_contact","insuranced_people"])]),ae,s("div",ie,[s("table",le,[ce,s("tbody",null,[(i(!0),l(d,null,m(o.insurance_policies_data,e=>(i(),l("tr",re,[s("th",de,[s("div",ue,[s("div",_e,a(new Date(e.created_at).toLocaleDateString()),1)])]),s("td",me,[c(a(e.customer.name)+" ",1),pe,c(" "+a(e.customer.document_type.name)+" | "+a(e.customer.document_number),1)]),s("td",ge,[s("div",ye,[be,c(" "+a(e.assets.length),1)])]),s("td",he," $ "+a(e.totalComission.toFixed(2)),1),s("td",fe,a(e.end_date),1),s("td",xe,[s("a",{href:"/admin/insurance_policies/show/"+o.insurancePolicy.id},ke,8,ve)])]))),256))])])]),s("div",Ve,[s("div",Ae,[(i(!0),l(d,null,m(t.insurance_policy.insurance_policy_data.files,e=>(i(),l("div",Pe,[s("div",Ce,[s("button",{type:"button",onClick:g=>t.removeFile(e),class:"relative inline-flex items-center w-full px-4 py-2 text-sm font-medium border-b border-gray-200 rounded-t-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:focus:ring-gray-500 dark:focus:text-white"},[Ee,s("span",null,a(e.name.length>10?e.name.slice(0,10)+"...":e.name),1),Fe],8,Ne)])]))),256))])])])])])]),_:1})],64)}}});export{Ie as default};
