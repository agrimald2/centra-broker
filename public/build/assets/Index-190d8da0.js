import{o as n,c,a as d,u as g,w as u,F as m,j as b,Z as x,b as t,d as i,f as r,t as l}from"./app-b6aa5ae6.js";import{A as f}from"./AdminLayout-2f94478b.js";import{B as p}from"./Breadcrumb-e0b41612.js";import"./_plugin-vue_export-helper-c27b6911.js";const h=t("p",{class:"font-bold text-xl"},"Dashboard de estadísticas",-1),_={class:"grid max-w-screen-xl grid-cols-1 gap-8 p-4 mx-auto text-gray-900 sm:grid-cols-2 xl:grid-cols-2 dark:text-white sm:p-8 text-center items-center py-4 bg-white"},w={class:"mt-4 mx-2 w-full sm:w-auto"},v=t("label",{for:"first-name",class:"block text-sm font-medium leading-6 text-gray-900"}," Inicio ",-1),y={class:"relative"},k=t("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})])],-1),V={class:"mt-4 mx-2 w-full sm:w-auto"},S=t("label",{for:"first-name",class:"block text-sm font-medium leading-6 text-gray-900"}," Fin ",-1),C={class:"relative"},D=t("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})])],-1),$={class:"p-4 bg-white rounded-lg md:p-8 dark:bg-gray-800",id:"statistics",role:"tabpanel","aria-labelledby":"statistics-tab"},H={class:"grid max-w-screen-xl grid-cols-1 gap-8 p-4 mx-auto text-gray-900 sm:grid-cols-2 xl:grid-cols-3 dark:text-white sm:p-8 text-center"},B={class:"mb-2 text-3xl font-extrabold"},T=t("dd",{class:"text-gray-500 dark:text-gray-400"},"Polizas",-1),Z={class:"mb-2 text-3xl font-extrabold"},F=t("dd",{class:"text-gray-500 dark:text-gray-400"},"Siniestros",-1),M={class:"mb-2 text-3xl font-extrabold"},I=t("dd",{class:"text-gray-500 dark:text-gray-400"},"Activos",-1),A={class:"flex flex-col bg-purple-100 p-4 rounded-lg shadow-lg"},N={class:"mb-2 text-3xl font-extrabold"},O=t("dd",{class:"text-gray-500 dark:text-gray-400"},"Comisión",-1),P={class:"flex flex-col bg-red-100 p-4 rounded-lg shadow-lg"},j={class:"mb-2 text-3xl font-extrabold"},U=t("dd",{class:"text-gray-500 dark:text-gray-400"},"Prima Neta",-1),z={class:"flex flex-col bg-indigo-100 p-4 rounded-lg shadow-lg"},E={class:"mb-2 text-3xl font-extrabold"},L=t("dd",{class:"text-gray-500 dark:text-gray-400"},"Prima Total",-1),q={class:"mb-2 text-3xl font-extrabold"},G=t("dd",{class:"text-gray-500 dark:text-gray-400"},"Clientes",-1),J={components:{},props:["breadcrumbs"],data(){return{filter:{start_date:new Date().toISOString().substr(0,10),end_date:new Date(new Date().setDate(new Date().getDate()+1)).toISOString().substr(0,10)},stadistics:"[]"}},methods:{async fetchStadistics(){console.log("a");const o=await b.get("/api/stadistics",{params:this.filter});this.stadistics=o.data},goTo(o){window.location.href=o}},mounted(){this.fetchStadistics()},watch:{"filter.start_date":function(o,s){this.fetchStadistics()},"filter.end_date":function(o,s){this.fetchStadistics()}}},X=Object.assign(J,{__name:"Index",setup(o){return(s,e)=>(n(),c(m,null,[d(g(x),{title:"Dashboard"}),d(f,null,{default:u(()=>[d(p,{breadcrumbs:o.breadcrumbs},null,8,["breadcrumbs"]),h,t("div",_,[t("div",w,[v,t("div",y,[k,i(t("input",{type:"date",style:{"background-color":"white"},"onUpdate:modelValue":e[0]||(e[0]=a=>s.filter.start_date=a),onChange:e[1]||(e[1]=a=>s.fetchStadistics()),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date"},null,544),[[r,s.filter.start_date]])])]),t("div",V,[S,t("div",C,[D,i(t("input",{type:"date",style:{"background-color":"white"},"onUpdate:modelValue":e[2]||(e[2]=a=>s.filter.end_date=a),onChange:e[3]||(e[3]=a=>s.fetchStadistics()),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date"},null,544),[[r,s.filter.end_date]])])])]),t("div",$,[t("dl",H,[t("div",{class:"flex flex-col bg-blue-100 p-4 rounded-lg shadow-lg cursor-pointer",onClick:e[4]||(e[4]=a=>s.goTo("/admin/insurance_policies"))},[t("dt",B,l(s.stadistics.policies_total_number),1),T]),t("div",{class:"flex flex-col bg-green-100 p-4 rounded-lg shadow-lg cursor-pointer",onClick:e[5]||(e[5]=a=>s.goTo("/admin/incidents"))},[t("dt",Z,l(s.stadistics.incidents_total),1),F]),t("div",{class:"flex flex-col bg-yellow-100 p-4 rounded-lg shadow-lg cursor-pointer",onClick:e[6]||(e[6]=a=>s.goTo("/admin/assets/index"))},[t("dt",M,l(s.stadistics.assets_total),1),I]),t("div",A,[t("dt",N,"$"+l(s.stadistics.policies_total_comission?s.stadistics.policies_total_comission.toFixed(2):0),1),O]),t("div",P,[t("dt",j,"$"+l(s.stadistics.policies_total_net_premium?s.stadistics.policies_total_net_premium.toFixed(2):0),1),U]),t("div",z,[t("dt",E,"$"+l(s.stadistics.policies_total_net?s.stadistics.policies_total_net.toFixed(2):0),1),L]),t("div",{class:"flex flex-col bg-gray-100 p-4 rounded-lg shadow-lg cursor-pointer",onClick:e[7]||(e[7]=a=>s.goTo("/admin/customers"))},[t("dt",q,l(s.stadistics.customers_total),1),G])])])]),_:1})],64))}});export{X as default};
