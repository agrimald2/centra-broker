import{o as n,c,a as d,u as g,w as h,F as _,j as u,Z as x,b as t,d as i,f as r,t as a}from"./app-97087de8.js";import{A as b}from"./AdminLayout-bf090ea2.js";import{B as m}from"./Breadcrumb-02492a4e.js";import"./_plugin-vue_export-helper-c27b6911.js";const f=t("p",{class:"font-bold text-xl"},"Dashboard de estadísticas",-1),p={class:"grid max-w-screen-xl grid-cols-1 gap-8 p-4 mx-auto text-gray-900 sm:grid-cols-2 xl:grid-cols-2 dark:text-white sm:p-8 text-center items-center py-4 bg-white"},w={class:"mt-4 mx-2 w-full sm:w-auto"},y=t("label",{for:"first-name",class:"block text-sm font-medium leading-6 text-gray-900"}," Inicio ",-1),v={class:"relative"},k=t("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})])],-1),V={class:"mt-4 mx-2 w-full sm:w-auto"},S=t("label",{for:"first-name",class:"block text-sm font-medium leading-6 text-gray-900"}," Fin ",-1),D={class:"relative"},H=t("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})])],-1),B={class:"p-4 bg-white rounded-lg md:p-8 dark:bg-gray-800",id:"statistics",role:"tabpanel","aria-labelledby":"statistics-tab"},C={class:"grid max-w-screen-xl grid-cols-1 gap-8 p-4 mx-auto text-gray-900 sm:grid-cols-2 xl:grid-cols-3 dark:text-white sm:p-8 text-center"},Z={class:"flex flex-col bg-blue-100 p-4 rounded-lg shadow-lg"},F={class:"mb-2 text-3xl font-extrabold"},M=t("dd",{class:"text-gray-500 dark:text-gray-400"},"Polizas",-1),$={class:"flex flex-col bg-green-100 p-4 rounded-lg shadow-lg"},I={class:"mb-2 text-3xl font-extrabold"},A=t("dd",{class:"text-gray-500 dark:text-gray-400"},"Siniestros",-1),N={class:"flex flex-col bg-yellow-100 p-4 rounded-lg shadow-lg"},O={class:"mb-2 text-3xl font-extrabold"},P=t("dd",{class:"text-gray-500 dark:text-gray-400"},"Activos",-1),j={class:"flex flex-col bg-purple-100 p-4 rounded-lg shadow-lg"},T={class:"mb-2 text-3xl font-extrabold"},U=t("dd",{class:"text-gray-500 dark:text-gray-400"},"Comisión",-1),z={class:"flex flex-col bg-red-100 p-4 rounded-lg shadow-lg"},E={class:"mb-2 text-3xl font-extrabold"},L=t("dd",{class:"text-gray-500 dark:text-gray-400"},"Prima Neta",-1),q={class:"flex flex-col bg-indigo-100 p-4 rounded-lg shadow-lg"},G={class:"mb-2 text-3xl font-extrabold"},J=t("dd",{class:"text-gray-500 dark:text-gray-400"},"Prima Total",-1),K={class:"flex flex-col bg-gray-100 p-4 rounded-lg shadow-lg"},Q={class:"mb-2 text-3xl font-extrabold"},R=t("dd",{class:"text-gray-500 dark:text-gray-400"},"Clientes",-1),W={components:{},props:["breadcrumbs"],data(){return{filter:{start_date:new Date().toISOString().substr(0,10),end_date:new Date(new Date().setDate(new Date().getDate()+1)).toISOString().substr(0,10)},stadistics:"[]"}},methods:{async fetchStadistics(){console.log("a");const o=await u.get("/api/stadistics",{params:this.filter});this.stadistics=o.data}},mounted(){this.fetchStadistics()},watch:{"filter.start_date":function(o,s){this.fetchStadistics()},"filter.end_date":function(o,s){this.fetchStadistics()}}},et=Object.assign(W,{__name:"Index",setup(o){return(s,e)=>(n(),c(_,null,[d(g(x),{title:"Dashboard"}),d(b,null,{default:h(()=>[d(m,{breadcrumbs:o.breadcrumbs},null,8,["breadcrumbs"]),f,t("div",p,[t("div",w,[y,t("div",v,[k,i(t("input",{type:"date",style:{"background-color":"white"},"onUpdate:modelValue":e[0]||(e[0]=l=>s.filter.start_date=l),onChange:e[1]||(e[1]=l=>s.fetchStadistics()),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date"},null,544),[[r,s.filter.start_date]])])]),t("div",V,[S,t("div",D,[H,i(t("input",{type:"date",style:{"background-color":"white"},"onUpdate:modelValue":e[2]||(e[2]=l=>s.filter.end_date=l),onChange:e[3]||(e[3]=l=>s.fetchStadistics()),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Select date"},null,544),[[r,s.filter.end_date]])])])]),t("div",B,[t("dl",C,[t("div",Z,[t("dt",F,a(s.stadistics.policies_total_number),1),M]),t("div",$,[t("dt",I,a(s.stadistics.incidents_total),1),A]),t("div",N,[t("dt",O,a(s.stadistics.assets_total),1),P]),t("div",j,[t("dt",T,"$"+a(s.stadistics.policies_total_comission?s.stadistics.policies_total_comission.toFixed(2):0),1),U]),t("div",z,[t("dt",E,"$"+a(s.stadistics.policies_total_net_premium?s.stadistics.policies_total_net_premium.toFixed(2):0),1),L]),t("div",q,[t("dt",G,"$"+a(s.stadistics.policies_total_net?s.stadistics.policies_total_net.toFixed(2):0),1),J]),t("div",K,[t("dt",Q,a(s.stadistics.customers_total),1),R])])])]),_:1})],64))}});export{et as default};
